"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdatefrontend"]("main",{

/***/ "./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[5].use[0]!./src/components/ComposerControls.vue?vue&type=script&lang=js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[5].use[0]!./src/components/ComposerControls.vue?vue&type=script&lang=js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vue */ \"./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js\");\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vue */ \"./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js\");\n/* harmony import */ var _events_eventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events/eventBus */ \"./src/events/eventBus.js\");\n/* harmony import */ var _ComposerControlsScrollBar_vue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ComposerControlsScrollBar.vue */ \"./src/components/ComposerControlsScrollBar.vue\");\n/* harmony import */ var _GlobalTrackValues__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GlobalTrackValues */ \"./src/components/GlobalTrackValues.vue\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  name: \"ComposerControls\",\n  components: {ComposerControlsScrollBar: _ComposerControlsScrollBar_vue__WEBPACK_IMPORTED_MODULE_1__[\"default\"], GlobalTrackValues: _GlobalTrackValues__WEBPACK_IMPORTED_MODULE_2__[\"default\"]},\n  setup() {\n    const store = (0,vue__WEBPACK_IMPORTED_MODULE_4__.inject)('store')\n    const {bus, emit} = (0,_events_eventBus__WEBPACK_IMPORTED_MODULE_0__[\"default\"])()\n    const requiresRender = (0,vue__WEBPACK_IMPORTED_MODULE_5__.ref)(false)\n    const toast = (0,vue__WEBPACK_IMPORTED_MODULE_4__.inject)('toast');\n\n    let BUFFER_CACHE = {}\n    let BUFFER_ROW_CACHE = []\n\n    let context = undefined\n    let sourceNode = undefined;\n    let buffer = undefined;\n    let startedAt = 0\n    let pausedAt = 0\n    const isPlaying = (0,vue__WEBPACK_IMPORTED_MODULE_5__.ref)(false)\n    const isRendering = (0,vue__WEBPACK_IMPORTED_MODULE_5__.ref)(false)\n\n    const imageAssets = {\n      playBtn: store.state.staticUrl + 'icons/play-button.png',\n      pauseBtn: store.state.staticUrl + 'icons/pause-button.png',\n      stopBtn: store.state.staticUrl + 'icons/stop-button.png',\n      downloadBtn: store.state.staticUrl + 'icons/download-icon.svg',\n    }\n\n    const getTrackListByRow = (row) => {\n      const tracks = store.state.grid[row].value.map((t) => {\n        if (t.source) {\n          return t.source.replace('.wav', '.mp3')\n        }\n        return t.source\n      })\n\n      return tracks\n    }\n\n    const getLoopLengthFromBarsAndBPM = (barCount, bpm) => {\n      let msPerBeatAtBpm = 60000 / bpm;\n      let totalBeats = 4 * barCount;\n      return msPerBeatAtBpm * totalBeats / 1000\n    }\n\n    const getBufferInRow = async (actx, trackSourceUrls, emptyBuffer) => {\n      let buffer_list = new Array();\n      for (let x = 0; x < trackSourceUrls.length; x++) {\n        if (trackSourceUrls[x]) {\n          // if (BUFFER_CACHE[trackSourceUrls[x]]) {\n          //   buffer_list[x] = BUFFER_CACHE[trackSourceUrls[x]]\n          // } else {\n          await new Promise(function (resolve) {\n            axios__WEBPACK_IMPORTED_MODULE_3___default().get(trackSourceUrls[x], {\n              responseType: 'arraybuffer'\n            }).then(function (response) {\n              let audioData = response.data;\n              if (audioData) {\n                actx.decodeAudioData(audioData, function (buffer) {\n                      buffer_list[x] = buffer;\n                      resolve()\n                    },\n                    function (e) {\n                      console.log(e.err);\n                    });\n              } else {\n                console.error(\"problem!!\");\n              }\n            })\n                .catch(function (error) {\n                  console.error(\"problem!! downloading \" + error);\n                })\n          })\n\n          // BUFFER_CACHE[trackSourceUrls[x]] = buffer\n          // }\n        } else {\n          buffer_list[x] = emptyBuffer;\n        }\n      }\n\n      return buffer_list;\n    }\n\n    const mixDown = (context, rowBufferList, totalLength) => {\n      const numberOfChannels = 2\n      //create a buffer using the totalLength and sampleRate of the first buffer node\n      let finalMix = context.createBuffer(numberOfChannels, totalLength, rowBufferList[0].sampleRate);\n\n      //first loop for row buffer list\n      for (let i = 0; i < rowBufferList.length; i++) {\n        // second loop for each channel ie left and right\n        //here we get a reference to the final mix buffer data\n        const leftChannel = 0\n        const rightChannel = 1\n\n        let finalMixBufferLeft = finalMix.getChannelData(leftChannel);\n        let finalMixBufferRight = finalMix.getChannelData(rightChannel);\n\n        //last is loop for updating/summing the track buffer with the final mix buffer\n\n        let rowBufferChannelLeft = rowBufferList[i].getChannelData(leftChannel)\n        let rowBufferChannelRight = rowBufferList[i].getChannelData(rightChannel)\n        for (let j = 0; j < rowBufferList[i].length; j++) {\n          finalMixBufferLeft[j] += rowBufferChannelLeft[j]\n          finalMixBufferRight[j] += rowBufferChannelRight[j];\n        }\n      }\n\n      return finalMix;\n    }\n\n    const generateEmptyBuffer = (actx, frameCount, sampleRate) => {\n      //THIS IS LIKELY SILENCE SO GENERATE AN EMPTY BUFFER\n      let emptyBuffer = actx.createBuffer(2, frameCount, sampleRate);\n      for (let channel = 0; channel < emptyBuffer.numberOfChannels; channel++) {\n        let nowBuffering = emptyBuffer.getChannelData(channel);\n        for (let i = 0; i < emptyBuffer.length; i++) {\n          nowBuffering[i] = 0;\n        }\n      }\n      return emptyBuffer;\n    }\n\n\n    const renderMix = async () => {\n      await stop()\n\n      if (store.state.clipCount() < 1) {\n        return\n      }\n\n      isRendering.value = true\n      try {\n        /* load audio buffers - start */\n        try {\n          if (context) {\n            try {\n              if (context.state !== 'closed') {\n                await context.close();\n              }\n            } catch (e) {\n              console.log('Unable to close WebAudio Context');\n            }\n          }\n          let AudioContext = window.AudioContext || window.webkitAudioContext;\n          context = new AudioContext();\n          try {\n            await context.resume()\n          } catch (e) {\n            console.log('Error resuming WebAudio Context');\n          }\n        } catch (e) {\n          console.log('WebAudio api is not supported!!');\n        }\n\n        let secondsInLoop = getLoopLengthFromBarsAndBPM(4, store.state.globalBpm);\n        const bufferSizePerLoop = secondsInLoop * 44100;\n\n        const leftChannel = 0\n        const rightChannel = 1\n        const numOfRows = 4;\n        let listOfTrimmedRowBuffers = new Array(numOfRows);\n\n        let emptyBuffer = generateEmptyBuffer(context, bufferSizePerLoop, 44100)\n\n        //ALL THIS ROW STUFF COULD BE A FUNC\n        for (let n = 0; n < numOfRows; n++) {\n          //CHECK IF THE ROW IS ALREADY CACHED\n          if (!store.state.hasRowStateChanged(n) && BUFFER_ROW_CACHE[n]) {\n            console.log(\"ROW IS IN CACHED!!\")\n            listOfTrimmedRowBuffers[n] = BUFFER_ROW_CACHE[n]\n            continue\n          }\n\n          //GET THE TRACKS IN ONE ROW\n          let tracksInRow = getTrackListByRow(n)\n          // console.log('tracksInRow_' + n, tracksInRow)\n\n          //GET THE BUFFERS FOR ONE ROW\n          let buffer_list_row = await getBufferInRow(context, tracksInRow, emptyBuffer);\n\n          //TRIM THE BUFFERS IN EACH ROW\n          //TRIM THE BUFFERS IN EACH ROW\n          //TRIM THE BUFFERS IN EACH ROW\n          //TODO IF YOU PRE-TRIM THESE YOU CAN SAVE RENDER TIME\n          let trimmedBufferListRow = new Array(buffer_list_row.length)\n          for (let i = 0; i < buffer_list_row.length; i++) {\n            // Create an empty buffer at the target length\n            let newBuffer = context.createBuffer(2, bufferSizePerLoop, 44100);\n\n            // for (let channel = 0; channel < 2; channel++) {\n            // This gives us the actual array that contains the data\n            let oldBufferLeft = buffer_list_row[i].getChannelData(leftChannel)\n            let oldBufferRight = buffer_list_row[i].getChannelData(rightChannel)\n\n            let nowBufferingLeft = newBuffer.getChannelData(leftChannel);\n            let nowBufferingRight = newBuffer.getChannelData(rightChannel);\n\n            for (let j = 0; j < newBuffer.length; j++) {\n              nowBufferingLeft[j] = oldBufferLeft[j];\n              nowBufferingRight[j] = oldBufferRight[j];\n            }\n            // }\n\n            trimmedBufferListRow[i] = newBuffer\n          }\n\n          //MERGE ALL THE BUFFERS FOR A ROW\n          //MERGE ALL THE BUFFERS FOR A ROW\n          // MERGE ALL THE BUFFERS FOR A ROW\n          let finalRowBuffer = context.createBuffer(2, bufferSizePerLoop * trimmedBufferListRow.length, 44100);\n\n          let nowBufferingFinalRowLeft = finalRowBuffer.getChannelData(leftChannel);\n          let nowBufferingFinalRowRight = finalRowBuffer.getChannelData(rightChannel);\n\n          let finalRowBufferIdx = 0;\n          for (let i = 0; i < trimmedBufferListRow.length; i++) {\n            let oldBufferLeft = trimmedBufferListRow[i].getChannelData(leftChannel)\n            let oldBufferRight = trimmedBufferListRow[i].getChannelData(rightChannel)\n            for (let j = 0; j < oldBufferLeft.length; j++) {\n              nowBufferingFinalRowLeft[finalRowBufferIdx] = oldBufferLeft[j];\n              nowBufferingFinalRowRight[finalRowBufferIdx] = oldBufferRight[j];\n              finalRowBufferIdx = finalRowBufferIdx + 1\n            }\n          }\n\n          listOfTrimmedRowBuffers[n] = finalRowBuffer\n\n          //UPDATE THE ROW CACHE\n          BUFFER_ROW_CACHE[n] = finalRowBuffer\n          store.state.updateRowStateHash(n)\n        }\n\n        buffer = mixDown(context, listOfTrimmedRowBuffers, listOfTrimmedRowBuffers[0].length);\n      } catch (e) {\n        console.log('ERROR', e)\n      }\n\n      isRendering.value = false\n\n\n      store.state.updateStateHash()\n\n      //emit('renderMixIfNeeded')\n\n\n      console.timeEnd('FULL_RENDER')\n    }\n\n    const playClip = async () => {\n      await stop()\n    }\n\n    const playMix = async (offsetStartPercentage) => {\n      if (store.state.clipCount() < 1) {\n        toast.warning('Add clips to the arranger!');\n        return\n      }\n\n      emit('stopAllAudio', 'composer-controls')\n\n      if (buffer) {\n        let offset = pausedAt;\n\n        if (offsetStartPercentage && offsetStartPercentage > 0 && offsetStartPercentage <= 100) {\n          offset = buffer.duration * (offsetStartPercentage * 0.01)\n        }\n\n        sourceNode = context.createBufferSource();\n        sourceNode.buffer = buffer\n        sourceNode.connect(context.destination);\n        sourceNode.start(0, offset);\n        startedAt = context.currentTime - offset;\n        pausedAt = 0;\n        isPlaying.value = true;\n      } else {\n        await renderMix()\n        await playMix()\n      }\n    }\n\n    const stop = async () => {\n      if (sourceNode) {\n        sourceNode.disconnect();\n        sourceNode.stop(0);\n        sourceNode = null;\n      }\n      pausedAt = 0;\n      startedAt = 0;\n      isPlaying.value = false;\n    }\n\n    const pause = async () => {\n      let elapsed = context.currentTime - startedAt;\n      stop();\n      pausedAt = elapsed;\n    }\n\n    let getCurrentTime = () => {\n      if (pausedAt) {\n        return pausedAt;\n      }\n      if (startedAt) {\n        return context.currentTime - startedAt;\n      }\n      return 0;\n    };\n\n    let getDuration = () => {\n      if (buffer) {\n        return buffer.duration;\n      }\n      return 0;\n    };\n\n    const printPlayState = async () => {\n      console.log('STATE: actx:', context)\n\n      if (context) {\n        console.log('STATE: actx.currentTime', context.currentTime)\n        console.log('STATE: actx.state', context.state)\n      }\n\n      if (sourceNode) {\n        console.log('STATE: mix', sourceNode)\n      } else {\n        console.log('STATE: mix is undefined')\n      }\n    }\n\n    let updateDurations = async () => {\n      let displayDuration = getDuration()\n      let displayCurrentTime = getCurrentTime()\n\n      let progress = Math.round(displayCurrentTime / displayDuration * 100)\n      if (Number.isInteger(progress)) {\n        emit('updateProgressBar', progress)\n      }\n\n      if (displayCurrentTime > displayDuration) {\n        await stop()\n      }\n    }\n\n    setInterval(updateDurations, 100)\n\n    let downloadMix = () => {\n      toast.error('Not yet implemented :(');\n      return\n    }\n\n    ;(0,vue__WEBPACK_IMPORTED_MODULE_4__.watch)(() => bus.value.get('stopAllAudio'), async (callerId) => {\n      if (callerId != 'composer-controls') {\n        await stop()\n      }\n    })\n\n    ;(0,vue__WEBPACK_IMPORTED_MODULE_4__.watch)(() => bus.value.get('renderMixIfNeeded'), async (callerId) => {\n      if (store.state.hasStateChanged()) {\n        requiresRender.value = true\n\n        if (!isRendering.value) {\n          await renderMix()\n        }\n      } else {\n        requiresRender.value = false\n        // console.log('RENDER NOT NEEDED')\n      }\n    })\n\n    ;(0,vue__WEBPACK_IMPORTED_MODULE_4__.watch)(() => bus.value.get('scrubTo'), async (scrubToPercent) => {\n      if (store.state.clipCount() < 1) {\n        toast.warning('Add clips to the arranger!');\n        return\n      }\n\n      if (isPlaying.value && buffer && scrubToPercent && scrubToPercent > 0 && scrubToPercent <= 100) {\n        await pause()\n        await playMix(scrubToPercent)\n      } else {\n        // it is currently not playing, so start now\n        await playMix()\n        await pause()\n        await playMix(scrubToPercent)\n      }\n    })\n\n    return {\n      downloadMix,\n      imageAssets,\n      isPlaying,\n      isRendering,\n      play: playMix,\n      pause,\n      stop,\n      printPlayState,\n      renderMix,\n      requiresRender\n    }\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzVdLnVzZVswXSEuL3NyYy9jb21wb25lbnRzL0NvbXBvc2VyQ29udHJvbHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQXlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBOztBQUVBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9Db21wb3NlckNvbnRyb2xzLnZ1ZT84YWM5Il0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgbXQtNFwiPlxuICAgIDxjb21wb3Nlci1jb250cm9scy1zY3JvbGwtYmFyPjwvY29tcG9zZXItY29udHJvbHMtc2Nyb2xsLWJhcj5cblxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IHctZnVsbCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInctMS8zIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxnbG9iYWwtdHJhY2stdmFsdWVzPjwvZ2xvYmFsLXRyYWNrLXZhbHVlcz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggdy1mdWxsIGp1c3RpZnktY2VudGVyIHctMS8zXCI+XG4gICAgICAgIDxidXR0b24gdi1pZj1cImlzUGxheWluZyA9PT0gZmFsc2VcIiBjbGFzcz1cIm0tNFwiIEBjbGljaz1cInBsYXkoKVwiPjxpbWcgOnNyYz1cImltYWdlQXNzZXRzLnBsYXlCdG5cIiBjbGFzcz1cImgtMjRcIi8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHYtaWY9XCJpc1BsYXlpbmcgPT09IHRydWVcIiBjbGFzcz1cIm0tNFwiIEBjbGljaz1cInBhdXNlKClcIj48aW1nIDpzcmM9XCJpbWFnZUFzc2V0cy5wYXVzZUJ0blwiIGNsYXNzPVwiaC0yNFwiLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJtLTRcIiBAY2xpY2s9XCJzdG9wKClcIj48aW1nIDpzcmM9XCJpbWFnZUFzc2V0cy5zdG9wQnRuXCIgY2xhc3M9XCJoLTE2XCIvPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCB3LWZ1bGwganVzdGlmeS1jZW50ZXIgdy0xLzNcIj5cbiAgICAgICAgPGJ1dHRvbiB2LWlmPVwiaXNQbGF5aW5nID09PSBmYWxzZVwiIGNsYXNzPVwiaC0xMCB3LTEwIG0tNFwiIEBjbGljaz1cImRvd25sb2FkTWl4KClcIj48aW1nXG4gICAgICAgICAgICA6c3JjPVwiaW1hZ2VBc3NldHMuZG93bmxvYWRCdG5cIiBjbGFzcz1cImgtMjRcIi8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7aW5qZWN0LCByZWZ9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7d2F0Y2h9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB1c2VFdmVudHNCdXMgZnJvbSBcIi4uL2V2ZW50cy9ldmVudEJ1c1wiO1xuaW1wb3J0IENvbXBvc2VyQ29udHJvbHNTY3JvbGxCYXIgZnJvbSBcIi4vQ29tcG9zZXJDb250cm9sc1Njcm9sbEJhci52dWVcIjtcbmltcG9ydCBHbG9iYWxUcmFja1ZhbHVlcyBmcm9tIFwiLi9HbG9iYWxUcmFja1ZhbHVlc1wiO1xuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6IFwiQ29tcG9zZXJDb250cm9sc1wiLFxuICBjb21wb25lbnRzOiB7Q29tcG9zZXJDb250cm9sc1Njcm9sbEJhciwgR2xvYmFsVHJhY2tWYWx1ZXN9LFxuICBzZXR1cCgpIHtcbiAgICBjb25zdCBzdG9yZSA9IGluamVjdCgnc3RvcmUnKVxuICAgIGNvbnN0IHtidXMsIGVtaXR9ID0gdXNlRXZlbnRzQnVzKClcbiAgICBjb25zdCByZXF1aXJlc1JlbmRlciA9IHJlZihmYWxzZSlcbiAgICBjb25zdCB0b2FzdCA9IGluamVjdCgndG9hc3QnKTtcblxuICAgIGxldCBCVUZGRVJfQ0FDSEUgPSB7fVxuICAgIGxldCBCVUZGRVJfUk9XX0NBQ0hFID0gW11cblxuICAgIGxldCBjb250ZXh0ID0gdW5kZWZpbmVkXG4gICAgbGV0IHNvdXJjZU5vZGUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IGJ1ZmZlciA9IHVuZGVmaW5lZDtcbiAgICBsZXQgc3RhcnRlZEF0ID0gMFxuICAgIGxldCBwYXVzZWRBdCA9IDBcbiAgICBjb25zdCBpc1BsYXlpbmcgPSByZWYoZmFsc2UpXG4gICAgY29uc3QgaXNSZW5kZXJpbmcgPSByZWYoZmFsc2UpXG5cbiAgICBjb25zdCBpbWFnZUFzc2V0cyA9IHtcbiAgICAgIHBsYXlCdG46IHN0b3JlLnN0YXRlLnN0YXRpY1VybCArICdpY29ucy9wbGF5LWJ1dHRvbi5wbmcnLFxuICAgICAgcGF1c2VCdG46IHN0b3JlLnN0YXRlLnN0YXRpY1VybCArICdpY29ucy9wYXVzZS1idXR0b24ucG5nJyxcbiAgICAgIHN0b3BCdG46IHN0b3JlLnN0YXRlLnN0YXRpY1VybCArICdpY29ucy9zdG9wLWJ1dHRvbi5wbmcnLFxuICAgICAgZG93bmxvYWRCdG46IHN0b3JlLnN0YXRlLnN0YXRpY1VybCArICdpY29ucy9kb3dubG9hZC1pY29uLnN2ZycsXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0VHJhY2tMaXN0QnlSb3cgPSAocm93KSA9PiB7XG4gICAgICBjb25zdCB0cmFja3MgPSBzdG9yZS5zdGF0ZS5ncmlkW3Jvd10udmFsdWUubWFwKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LnNvdXJjZSkge1xuICAgICAgICAgIHJldHVybiB0LnNvdXJjZS5yZXBsYWNlKCcud2F2JywgJy5tcDMnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0LnNvdXJjZVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHRyYWNrc1xuICAgIH1cblxuICAgIGNvbnN0IGdldExvb3BMZW5ndGhGcm9tQmFyc0FuZEJQTSA9IChiYXJDb3VudCwgYnBtKSA9PiB7XG4gICAgICBsZXQgbXNQZXJCZWF0QXRCcG0gPSA2MDAwMCAvIGJwbTtcbiAgICAgIGxldCB0b3RhbEJlYXRzID0gNCAqIGJhckNvdW50O1xuICAgICAgcmV0dXJuIG1zUGVyQmVhdEF0QnBtICogdG90YWxCZWF0cyAvIDEwMDBcbiAgICB9XG5cbiAgICBjb25zdCBnZXRCdWZmZXJJblJvdyA9IGFzeW5jIChhY3R4LCB0cmFja1NvdXJjZVVybHMsIGVtcHR5QnVmZmVyKSA9PiB7XG4gICAgICBsZXQgYnVmZmVyX2xpc3QgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdHJhY2tTb3VyY2VVcmxzLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIGlmICh0cmFja1NvdXJjZVVybHNbeF0pIHtcbiAgICAgICAgICAvLyBpZiAoQlVGRkVSX0NBQ0hFW3RyYWNrU291cmNlVXJsc1t4XV0pIHtcbiAgICAgICAgICAvLyAgIGJ1ZmZlcl9saXN0W3hdID0gQlVGRkVSX0NBQ0hFW3RyYWNrU291cmNlVXJsc1t4XV1cbiAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBheGlvcy5nZXQodHJhY2tTb3VyY2VVcmxzW3hdLCB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJ1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgbGV0IGF1ZGlvRGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgICBhY3R4LmRlY29kZUF1ZGlvRGF0YShhdWRpb0RhdGEsIGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBidWZmZXJfbGlzdFt4XSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLmVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJwcm9ibGVtISFcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInByb2JsZW0hISBkb3dubG9hZGluZyBcIiArIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICAvLyBCVUZGRVJfQ0FDSEVbdHJhY2tTb3VyY2VVcmxzW3hdXSA9IGJ1ZmZlclxuICAgICAgICAgIC8vIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidWZmZXJfbGlzdFt4XSA9IGVtcHR5QnVmZmVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWZmZXJfbGlzdDtcbiAgICB9XG5cbiAgICBjb25zdCBtaXhEb3duID0gKGNvbnRleHQsIHJvd0J1ZmZlckxpc3QsIHRvdGFsTGVuZ3RoKSA9PiB7XG4gICAgICBjb25zdCBudW1iZXJPZkNoYW5uZWxzID0gMlxuICAgICAgLy9jcmVhdGUgYSBidWZmZXIgdXNpbmcgdGhlIHRvdGFsTGVuZ3RoIGFuZCBzYW1wbGVSYXRlIG9mIHRoZSBmaXJzdCBidWZmZXIgbm9kZVxuICAgICAgbGV0IGZpbmFsTWl4ID0gY29udGV4dC5jcmVhdGVCdWZmZXIobnVtYmVyT2ZDaGFubmVscywgdG90YWxMZW5ndGgsIHJvd0J1ZmZlckxpc3RbMF0uc2FtcGxlUmF0ZSk7XG5cbiAgICAgIC8vZmlyc3QgbG9vcCBmb3Igcm93IGJ1ZmZlciBsaXN0XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd0J1ZmZlckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gc2Vjb25kIGxvb3AgZm9yIGVhY2ggY2hhbm5lbCBpZSBsZWZ0IGFuZCByaWdodFxuICAgICAgICAvL2hlcmUgd2UgZ2V0IGEgcmVmZXJlbmNlIHRvIHRoZSBmaW5hbCBtaXggYnVmZmVyIGRhdGFcbiAgICAgICAgY29uc3QgbGVmdENoYW5uZWwgPSAwXG4gICAgICAgIGNvbnN0IHJpZ2h0Q2hhbm5lbCA9IDFcblxuICAgICAgICBsZXQgZmluYWxNaXhCdWZmZXJMZWZ0ID0gZmluYWxNaXguZ2V0Q2hhbm5lbERhdGEobGVmdENoYW5uZWwpO1xuICAgICAgICBsZXQgZmluYWxNaXhCdWZmZXJSaWdodCA9IGZpbmFsTWl4LmdldENoYW5uZWxEYXRhKHJpZ2h0Q2hhbm5lbCk7XG5cbiAgICAgICAgLy9sYXN0IGlzIGxvb3AgZm9yIHVwZGF0aW5nL3N1bW1pbmcgdGhlIHRyYWNrIGJ1ZmZlciB3aXRoIHRoZSBmaW5hbCBtaXggYnVmZmVyXG5cbiAgICAgICAgbGV0IHJvd0J1ZmZlckNoYW5uZWxMZWZ0ID0gcm93QnVmZmVyTGlzdFtpXS5nZXRDaGFubmVsRGF0YShsZWZ0Q2hhbm5lbClcbiAgICAgICAgbGV0IHJvd0J1ZmZlckNoYW5uZWxSaWdodCA9IHJvd0J1ZmZlckxpc3RbaV0uZ2V0Q2hhbm5lbERhdGEocmlnaHRDaGFubmVsKVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvd0J1ZmZlckxpc3RbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBmaW5hbE1peEJ1ZmZlckxlZnRbal0gKz0gcm93QnVmZmVyQ2hhbm5lbExlZnRbal1cbiAgICAgICAgICBmaW5hbE1peEJ1ZmZlclJpZ2h0W2pdICs9IHJvd0J1ZmZlckNoYW5uZWxSaWdodFtqXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmluYWxNaXg7XG4gICAgfVxuXG4gICAgY29uc3QgZ2VuZXJhdGVFbXB0eUJ1ZmZlciA9IChhY3R4LCBmcmFtZUNvdW50LCBzYW1wbGVSYXRlKSA9PiB7XG4gICAgICAvL1RISVMgSVMgTElLRUxZIFNJTEVOQ0UgU08gR0VORVJBVEUgQU4gRU1QVFkgQlVGRkVSXG4gICAgICBsZXQgZW1wdHlCdWZmZXIgPSBhY3R4LmNyZWF0ZUJ1ZmZlcigyLCBmcmFtZUNvdW50LCBzYW1wbGVSYXRlKTtcbiAgICAgIGZvciAobGV0IGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgZW1wdHlCdWZmZXIubnVtYmVyT2ZDaGFubmVsczsgY2hhbm5lbCsrKSB7XG4gICAgICAgIGxldCBub3dCdWZmZXJpbmcgPSBlbXB0eUJ1ZmZlci5nZXRDaGFubmVsRGF0YShjaGFubmVsKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbXB0eUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG5vd0J1ZmZlcmluZ1tpXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eUJ1ZmZlcjtcbiAgICB9XG5cblxuICAgIGNvbnN0IHJlbmRlck1peCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHN0b3AoKVxuXG4gICAgICBpZiAoc3RvcmUuc3RhdGUuY2xpcENvdW50KCkgPCAxKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpc1JlbmRlcmluZy52YWx1ZSA9IHRydWVcbiAgICAgIHRyeSB7XG4gICAgICAgIC8qIGxvYWQgYXVkaW8gYnVmZmVycyAtIHN0YXJ0ICovXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChjb250ZXh0LnN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNvbnRleHQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5hYmxlIHRvIGNsb3NlIFdlYkF1ZGlvIENvbnRleHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtcbiAgICAgICAgICBjb250ZXh0ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjb250ZXh0LnJlc3VtZSgpXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIHJlc3VtaW5nIFdlYkF1ZGlvIENvbnRleHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnV2ViQXVkaW8gYXBpIGlzIG5vdCBzdXBwb3J0ZWQhIScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlY29uZHNJbkxvb3AgPSBnZXRMb29wTGVuZ3RoRnJvbUJhcnNBbmRCUE0oNCwgc3RvcmUuc3RhdGUuZ2xvYmFsQnBtKTtcbiAgICAgICAgY29uc3QgYnVmZmVyU2l6ZVBlckxvb3AgPSBzZWNvbmRzSW5Mb29wICogNDQxMDA7XG5cbiAgICAgICAgY29uc3QgbGVmdENoYW5uZWwgPSAwXG4gICAgICAgIGNvbnN0IHJpZ2h0Q2hhbm5lbCA9IDFcbiAgICAgICAgY29uc3QgbnVtT2ZSb3dzID0gNDtcbiAgICAgICAgbGV0IGxpc3RPZlRyaW1tZWRSb3dCdWZmZXJzID0gbmV3IEFycmF5KG51bU9mUm93cyk7XG5cbiAgICAgICAgbGV0IGVtcHR5QnVmZmVyID0gZ2VuZXJhdGVFbXB0eUJ1ZmZlcihjb250ZXh0LCBidWZmZXJTaXplUGVyTG9vcCwgNDQxMDApXG5cbiAgICAgICAgLy9BTEwgVEhJUyBST1cgU1RVRkYgQ09VTEQgQkUgQSBGVU5DXG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbnVtT2ZSb3dzOyBuKyspIHtcbiAgICAgICAgICAvL0NIRUNLIElGIFRIRSBST1cgSVMgQUxSRUFEWSBDQUNIRURcbiAgICAgICAgICBpZiAoIXN0b3JlLnN0YXRlLmhhc1Jvd1N0YXRlQ2hhbmdlZChuKSAmJiBCVUZGRVJfUk9XX0NBQ0hFW25dKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJPVyBJUyBJTiBDQUNIRUQhIVwiKVxuICAgICAgICAgICAgbGlzdE9mVHJpbW1lZFJvd0J1ZmZlcnNbbl0gPSBCVUZGRVJfUk9XX0NBQ0hFW25dXG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vR0VUIFRIRSBUUkFDS1MgSU4gT05FIFJPV1xuICAgICAgICAgIGxldCB0cmFja3NJblJvdyA9IGdldFRyYWNrTGlzdEJ5Um93KG4pXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ3RyYWNrc0luUm93XycgKyBuLCB0cmFja3NJblJvdylcblxuICAgICAgICAgIC8vR0VUIFRIRSBCVUZGRVJTIEZPUiBPTkUgUk9XXG4gICAgICAgICAgbGV0IGJ1ZmZlcl9saXN0X3JvdyA9IGF3YWl0IGdldEJ1ZmZlckluUm93KGNvbnRleHQsIHRyYWNrc0luUm93LCBlbXB0eUJ1ZmZlcik7XG5cbiAgICAgICAgICAvL1RSSU0gVEhFIEJVRkZFUlMgSU4gRUFDSCBST1dcbiAgICAgICAgICAvL1RSSU0gVEhFIEJVRkZFUlMgSU4gRUFDSCBST1dcbiAgICAgICAgICAvL1RSSU0gVEhFIEJVRkZFUlMgSU4gRUFDSCBST1dcbiAgICAgICAgICAvL1RPRE8gSUYgWU9VIFBSRS1UUklNIFRIRVNFIFlPVSBDQU4gU0FWRSBSRU5ERVIgVElNRVxuICAgICAgICAgIGxldCB0cmltbWVkQnVmZmVyTGlzdFJvdyA9IG5ldyBBcnJheShidWZmZXJfbGlzdF9yb3cubGVuZ3RoKVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyX2xpc3Rfcm93Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyIGF0IHRoZSB0YXJnZXQgbGVuZ3RoXG4gICAgICAgICAgICBsZXQgbmV3QnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgYnVmZmVyU2l6ZVBlckxvb3AsIDQ0MTAwKTtcblxuICAgICAgICAgICAgLy8gZm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCAyOyBjaGFubmVsKyspIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZ2l2ZXMgdXMgdGhlIGFjdHVhbCBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSBkYXRhXG4gICAgICAgICAgICBsZXQgb2xkQnVmZmVyTGVmdCA9IGJ1ZmZlcl9saXN0X3Jvd1tpXS5nZXRDaGFubmVsRGF0YShsZWZ0Q2hhbm5lbClcbiAgICAgICAgICAgIGxldCBvbGRCdWZmZXJSaWdodCA9IGJ1ZmZlcl9saXN0X3Jvd1tpXS5nZXRDaGFubmVsRGF0YShyaWdodENoYW5uZWwpXG5cbiAgICAgICAgICAgIGxldCBub3dCdWZmZXJpbmdMZWZ0ID0gbmV3QnVmZmVyLmdldENoYW5uZWxEYXRhKGxlZnRDaGFubmVsKTtcbiAgICAgICAgICAgIGxldCBub3dCdWZmZXJpbmdSaWdodCA9IG5ld0J1ZmZlci5nZXRDaGFubmVsRGF0YShyaWdodENoYW5uZWwpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5ld0J1ZmZlci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICBub3dCdWZmZXJpbmdMZWZ0W2pdID0gb2xkQnVmZmVyTGVmdFtqXTtcbiAgICAgICAgICAgICAgbm93QnVmZmVyaW5nUmlnaHRbal0gPSBvbGRCdWZmZXJSaWdodFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgdHJpbW1lZEJ1ZmZlckxpc3RSb3dbaV0gPSBuZXdCdWZmZXJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL01FUkdFIEFMTCBUSEUgQlVGRkVSUyBGT1IgQSBST1dcbiAgICAgICAgICAvL01FUkdFIEFMTCBUSEUgQlVGRkVSUyBGT1IgQSBST1dcbiAgICAgICAgICAvLyBNRVJHRSBBTEwgVEhFIEJVRkZFUlMgRk9SIEEgUk9XXG4gICAgICAgICAgbGV0IGZpbmFsUm93QnVmZmVyID0gY29udGV4dC5jcmVhdGVCdWZmZXIoMiwgYnVmZmVyU2l6ZVBlckxvb3AgKiB0cmltbWVkQnVmZmVyTGlzdFJvdy5sZW5ndGgsIDQ0MTAwKTtcblxuICAgICAgICAgIGxldCBub3dCdWZmZXJpbmdGaW5hbFJvd0xlZnQgPSBmaW5hbFJvd0J1ZmZlci5nZXRDaGFubmVsRGF0YShsZWZ0Q2hhbm5lbCk7XG4gICAgICAgICAgbGV0IG5vd0J1ZmZlcmluZ0ZpbmFsUm93UmlnaHQgPSBmaW5hbFJvd0J1ZmZlci5nZXRDaGFubmVsRGF0YShyaWdodENoYW5uZWwpO1xuXG4gICAgICAgICAgbGV0IGZpbmFsUm93QnVmZmVySWR4ID0gMDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaW1tZWRCdWZmZXJMaXN0Um93Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgb2xkQnVmZmVyTGVmdCA9IHRyaW1tZWRCdWZmZXJMaXN0Um93W2ldLmdldENoYW5uZWxEYXRhKGxlZnRDaGFubmVsKVxuICAgICAgICAgICAgbGV0IG9sZEJ1ZmZlclJpZ2h0ID0gdHJpbW1lZEJ1ZmZlckxpc3RSb3dbaV0uZ2V0Q2hhbm5lbERhdGEocmlnaHRDaGFubmVsKVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvbGRCdWZmZXJMZWZ0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIG5vd0J1ZmZlcmluZ0ZpbmFsUm93TGVmdFtmaW5hbFJvd0J1ZmZlcklkeF0gPSBvbGRCdWZmZXJMZWZ0W2pdO1xuICAgICAgICAgICAgICBub3dCdWZmZXJpbmdGaW5hbFJvd1JpZ2h0W2ZpbmFsUm93QnVmZmVySWR4XSA9IG9sZEJ1ZmZlclJpZ2h0W2pdO1xuICAgICAgICAgICAgICBmaW5hbFJvd0J1ZmZlcklkeCA9IGZpbmFsUm93QnVmZmVySWR4ICsgMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RPZlRyaW1tZWRSb3dCdWZmZXJzW25dID0gZmluYWxSb3dCdWZmZXJcblxuICAgICAgICAgIC8vVVBEQVRFIFRIRSBST1cgQ0FDSEVcbiAgICAgICAgICBCVUZGRVJfUk9XX0NBQ0hFW25dID0gZmluYWxSb3dCdWZmZXJcbiAgICAgICAgICBzdG9yZS5zdGF0ZS51cGRhdGVSb3dTdGF0ZUhhc2gobilcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG1peERvd24oY29udGV4dCwgbGlzdE9mVHJpbW1lZFJvd0J1ZmZlcnMsIGxpc3RPZlRyaW1tZWRSb3dCdWZmZXJzWzBdLmxlbmd0aCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIGUpXG4gICAgICB9XG5cbiAgICAgIGlzUmVuZGVyaW5nLnZhbHVlID0gZmFsc2VcblxuXG4gICAgICBzdG9yZS5zdGF0ZS51cGRhdGVTdGF0ZUhhc2goKVxuXG4gICAgICAvL2VtaXQoJ3JlbmRlck1peElmTmVlZGVkJylcblxuXG4gICAgICBjb25zb2xlLnRpbWVFbmQoJ0ZVTExfUkVOREVSJylcbiAgICB9XG5cbiAgICBjb25zdCBwbGF5Q2xpcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHN0b3AoKVxuICAgIH1cblxuICAgIGNvbnN0IHBsYXlNaXggPSBhc3luYyAob2Zmc2V0U3RhcnRQZXJjZW50YWdlKSA9PiB7XG4gICAgICBpZiAoc3RvcmUuc3RhdGUuY2xpcENvdW50KCkgPCAxKSB7XG4gICAgICAgIHRvYXN0Lndhcm5pbmcoJ0FkZCBjbGlwcyB0byB0aGUgYXJyYW5nZXIhJyk7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBlbWl0KCdzdG9wQWxsQXVkaW8nLCAnY29tcG9zZXItY29udHJvbHMnKVxuXG4gICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBwYXVzZWRBdDtcblxuICAgICAgICBpZiAob2Zmc2V0U3RhcnRQZXJjZW50YWdlICYmIG9mZnNldFN0YXJ0UGVyY2VudGFnZSA+IDAgJiYgb2Zmc2V0U3RhcnRQZXJjZW50YWdlIDw9IDEwMCkge1xuICAgICAgICAgIG9mZnNldCA9IGJ1ZmZlci5kdXJhdGlvbiAqIChvZmZzZXRTdGFydFBlcmNlbnRhZ2UgKiAwLjAxKVxuICAgICAgICB9XG5cbiAgICAgICAgc291cmNlTm9kZSA9IGNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZU5vZGUuYnVmZmVyID0gYnVmZmVyXG4gICAgICAgIHNvdXJjZU5vZGUuY29ubmVjdChjb250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgc291cmNlTm9kZS5zdGFydCgwLCBvZmZzZXQpO1xuICAgICAgICBzdGFydGVkQXQgPSBjb250ZXh0LmN1cnJlbnRUaW1lIC0gb2Zmc2V0O1xuICAgICAgICBwYXVzZWRBdCA9IDA7XG4gICAgICAgIGlzUGxheWluZy52YWx1ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCByZW5kZXJNaXgoKVxuICAgICAgICBhd2FpdCBwbGF5TWl4KClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdG9wID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHNvdXJjZU5vZGUpIHtcbiAgICAgICAgc291cmNlTm9kZS5kaXNjb25uZWN0KCk7XG4gICAgICAgIHNvdXJjZU5vZGUuc3RvcCgwKTtcbiAgICAgICAgc291cmNlTm9kZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBwYXVzZWRBdCA9IDA7XG4gICAgICBzdGFydGVkQXQgPSAwO1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcGF1c2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZWxhcHNlZCA9IGNvbnRleHQuY3VycmVudFRpbWUgLSBzdGFydGVkQXQ7XG4gICAgICBzdG9wKCk7XG4gICAgICBwYXVzZWRBdCA9IGVsYXBzZWQ7XG4gICAgfVxuXG4gICAgbGV0IGdldEN1cnJlbnRUaW1lID0gKCkgPT4ge1xuICAgICAgaWYgKHBhdXNlZEF0KSB7XG4gICAgICAgIHJldHVybiBwYXVzZWRBdDtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydGVkQXQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY3VycmVudFRpbWUgLSBzdGFydGVkQXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgbGV0IGdldER1cmF0aW9uID0gKCkgPT4ge1xuICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gYnVmZmVyLmR1cmF0aW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcblxuICAgIGNvbnN0IHByaW50UGxheVN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NUQVRFOiBhY3R4OicsIGNvbnRleHQpXG5cbiAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTVEFURTogYWN0eC5jdXJyZW50VGltZScsIGNvbnRleHQuY3VycmVudFRpbWUpXG4gICAgICAgIGNvbnNvbGUubG9nKCdTVEFURTogYWN0eC5zdGF0ZScsIGNvbnRleHQuc3RhdGUpXG4gICAgICB9XG5cbiAgICAgIGlmIChzb3VyY2VOb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTVEFURTogbWl4Jywgc291cmNlTm9kZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTVEFURTogbWl4IGlzIHVuZGVmaW5lZCcpXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHVwZGF0ZUR1cmF0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkaXNwbGF5RHVyYXRpb24gPSBnZXREdXJhdGlvbigpXG4gICAgICBsZXQgZGlzcGxheUN1cnJlbnRUaW1lID0gZ2V0Q3VycmVudFRpbWUoKVxuXG4gICAgICBsZXQgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKGRpc3BsYXlDdXJyZW50VGltZSAvIGRpc3BsYXlEdXJhdGlvbiAqIDEwMClcbiAgICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKHByb2dyZXNzKSkge1xuICAgICAgICBlbWl0KCd1cGRhdGVQcm9ncmVzc0JhcicsIHByb2dyZXNzKVxuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGxheUN1cnJlbnRUaW1lID4gZGlzcGxheUR1cmF0aW9uKSB7XG4gICAgICAgIGF3YWl0IHN0b3AoKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldEludGVydmFsKHVwZGF0ZUR1cmF0aW9ucywgMTAwKVxuXG4gICAgbGV0IGRvd25sb2FkTWl4ID0gKCkgPT4ge1xuICAgICAgdG9hc3QuZXJyb3IoJ05vdCB5ZXQgaW1wbGVtZW50ZWQgOignKTtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHdhdGNoKCgpID0+IGJ1cy52YWx1ZS5nZXQoJ3N0b3BBbGxBdWRpbycpLCBhc3luYyAoY2FsbGVySWQpID0+IHtcbiAgICAgIGlmIChjYWxsZXJJZCAhPSAnY29tcG9zZXItY29udHJvbHMnKSB7XG4gICAgICAgIGF3YWl0IHN0b3AoKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB3YXRjaCgoKSA9PiBidXMudmFsdWUuZ2V0KCdyZW5kZXJNaXhJZk5lZWRlZCcpLCBhc3luYyAoY2FsbGVySWQpID0+IHtcbiAgICAgIGlmIChzdG9yZS5zdGF0ZS5oYXNTdGF0ZUNoYW5nZWQoKSkge1xuICAgICAgICByZXF1aXJlc1JlbmRlci52YWx1ZSA9IHRydWVcblxuICAgICAgICBpZiAoIWlzUmVuZGVyaW5nLnZhbHVlKSB7XG4gICAgICAgICAgYXdhaXQgcmVuZGVyTWl4KClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWlyZXNSZW5kZXIudmFsdWUgPSBmYWxzZVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnUkVOREVSIE5PVCBORUVERUQnKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB3YXRjaCgoKSA9PiBidXMudmFsdWUuZ2V0KCdzY3J1YlRvJyksIGFzeW5jIChzY3J1YlRvUGVyY2VudCkgPT4ge1xuICAgICAgaWYgKHN0b3JlLnN0YXRlLmNsaXBDb3VudCgpIDwgMSkge1xuICAgICAgICB0b2FzdC53YXJuaW5nKCdBZGQgY2xpcHMgdG8gdGhlIGFycmFuZ2VyIScpO1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGlzUGxheWluZy52YWx1ZSAmJiBidWZmZXIgJiYgc2NydWJUb1BlcmNlbnQgJiYgc2NydWJUb1BlcmNlbnQgPiAwICYmIHNjcnViVG9QZXJjZW50IDw9IDEwMCkge1xuICAgICAgICBhd2FpdCBwYXVzZSgpXG4gICAgICAgIGF3YWl0IHBsYXlNaXgoc2NydWJUb1BlcmNlbnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpdCBpcyBjdXJyZW50bHkgbm90IHBsYXlpbmcsIHNvIHN0YXJ0IG5vd1xuICAgICAgICBhd2FpdCBwbGF5TWl4KClcbiAgICAgICAgYXdhaXQgcGF1c2UoKVxuICAgICAgICBhd2FpdCBwbGF5TWl4KHNjcnViVG9QZXJjZW50KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgZG93bmxvYWRNaXgsXG4gICAgICBpbWFnZUFzc2V0cyxcbiAgICAgIGlzUGxheWluZyxcbiAgICAgIGlzUmVuZGVyaW5nLFxuICAgICAgcGxheTogcGxheU1peCxcbiAgICAgIHBhdXNlLFxuICAgICAgc3RvcCxcbiAgICAgIHByaW50UGxheVN0YXRlLFxuICAgICAgcmVuZGVyTWl4LFxuICAgICAgcmVxdWlyZXNSZW5kZXJcbiAgICB9XG4gIH1cbn1cbjwvc2NyaXB0PlxuXG48c3R5bGUgc2NvcGVkPlxuXG48L3N0eWxlPiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[5].use[0]!./src/components/ComposerControls.vue?vue&type=script&lang=js\n");

/***/ }),

/***/ "./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[5].use[0]!./src/components/ComposerControls.vue?vue&type=template&id=6f452db4":
/*!*********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[5].use[0]!./src/components/ComposerControls.vue?vue&type=template&id=6f452db4 ***!
  \*********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js\");\n\n\nconst _hoisted_1 = { class: \"flex flex-col mt-4\" }\nconst _hoisted_2 = { class: \"flex w-full justify-center\" }\nconst _hoisted_3 = { class: \"w-1/3 flex items-center\" }\nconst _hoisted_4 = { class: \"flex w-full justify-center w-1/3\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = [\"src\"]\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"flex w-full justify-center w-1/3\" }\nconst _hoisted_9 = [\"src\"]\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_composer_controls_scroll_bar = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"composer-controls-scroll-bar\")\n  const _component_global_track_values = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"global-track-values\")\n\n  return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_1, [\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_composer_controls_scroll_bar),\n    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_2, [\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_3, [\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_global_track_values)\n      ]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_4, [\n        ($setup.isPlaying === false)\n          ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"button\", {\n              key: 0,\n              class: \"m-4\",\n              onClick: _cache[0] || (_cache[0] = $event => ($setup.play()))\n            }, [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"img\", {\n                src: $setup.imageAssets.playBtn,\n                class: \"h-24\"\n              }, null, 8 /* PROPS */, _hoisted_5)\n            ]))\n          : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true),\n        ($setup.isPlaying === true)\n          ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"button\", {\n              key: 1,\n              class: \"m-4\",\n              onClick: _cache[1] || (_cache[1] = $event => ($setup.pause()))\n            }, [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"img\", {\n                src: $setup.imageAssets.pauseBtn,\n                class: \"h-24\"\n              }, null, 8 /* PROPS */, _hoisted_6)\n            ]))\n          : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true),\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"button\", {\n          class: \"m-4\",\n          onClick: _cache[2] || (_cache[2] = $event => ($setup.stop()))\n        }, [\n          (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"img\", {\n            src: $setup.imageAssets.stopBtn,\n            class: \"h-16\"\n          }, null, 8 /* PROPS */, _hoisted_7)\n        ])\n      ]),\n      (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_8, [\n        ($setup.isPlaying === false)\n          ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"button\", {\n              key: 0,\n              class: \"h-10 w-10 m-4\",\n              onClick: _cache[3] || (_cache[3] = $event => ($setup.downloadMix()))\n            }, [\n              (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"img\", {\n                src: $setup.imageAssets.downloadBtn,\n                class: \"h-24\"\n              }, null, 8 /* PROPS */, _hoisted_9)\n            ]))\n          : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true)\n      ])\n    ])\n  ]))\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L3RlbXBsYXRlTG9hZGVyLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s1XS51c2VbMF0hLi9zcmMvY29tcG9uZW50cy9Db21wb3NlckNvbnRyb2xzLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02ZjQ1MmRiNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7QUFHQTtBQUNBO0FBR0E7Ozs7QUFPQTs7Ozs7OztBQWRBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOzs7O0FBRUE7QUFBQTs7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7OztBQUVBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7Ozs7QUFFQTtBQUNBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTtBQUNBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL0NvbXBvc2VyQ29udHJvbHMudnVlPzhhYzkiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBtdC00XCI+XG4gICAgPGNvbXBvc2VyLWNvbnRyb2xzLXNjcm9sbC1iYXI+PC9jb21wb3Nlci1jb250cm9scy1zY3JvbGwtYmFyPlxuXG4gICAgPGRpdiBjbGFzcz1cImZsZXggdy1mdWxsIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwidy0xLzMgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGdsb2JhbC10cmFjay12YWx1ZXM+PC9nbG9iYWwtdHJhY2stdmFsdWVzPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCB3LWZ1bGwganVzdGlmeS1jZW50ZXIgdy0xLzNcIj5cbiAgICAgICAgPGJ1dHRvbiB2LWlmPVwiaXNQbGF5aW5nID09PSBmYWxzZVwiIGNsYXNzPVwibS00XCIgQGNsaWNrPVwicGxheSgpXCI+PGltZyA6c3JjPVwiaW1hZ2VBc3NldHMucGxheUJ0blwiIGNsYXNzPVwiaC0yNFwiLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gdi1pZj1cImlzUGxheWluZyA9PT0gdHJ1ZVwiIGNsYXNzPVwibS00XCIgQGNsaWNrPVwicGF1c2UoKVwiPjxpbWcgOnNyYz1cImltYWdlQXNzZXRzLnBhdXNlQnRuXCIgY2xhc3M9XCJoLTI0XCIvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm0tNFwiIEBjbGljaz1cInN0b3AoKVwiPjxpbWcgOnNyYz1cImltYWdlQXNzZXRzLnN0b3BCdG5cIiBjbGFzcz1cImgtMTZcIi8+PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHctZnVsbCBqdXN0aWZ5LWNlbnRlciB3LTEvM1wiPlxuICAgICAgICA8YnV0dG9uIHYtaWY9XCJpc1BsYXlpbmcgPT09IGZhbHNlXCIgY2xhc3M9XCJoLTEwIHctMTAgbS00XCIgQGNsaWNrPVwiZG93bmxvYWRNaXgoKVwiPjxpbWdcbiAgICAgICAgICAgIDpzcmM9XCJpbWFnZUFzc2V0cy5kb3dubG9hZEJ0blwiIGNsYXNzPVwiaC0yNFwiLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHtpbmplY3QsIHJlZn0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHt3YXRjaH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHVzZUV2ZW50c0J1cyBmcm9tIFwiLi4vZXZlbnRzL2V2ZW50QnVzXCI7XG5pbXBvcnQgQ29tcG9zZXJDb250cm9sc1Njcm9sbEJhciBmcm9tIFwiLi9Db21wb3NlckNvbnRyb2xzU2Nyb2xsQmFyLnZ1ZVwiO1xuaW1wb3J0IEdsb2JhbFRyYWNrVmFsdWVzIGZyb20gXCIuL0dsb2JhbFRyYWNrVmFsdWVzXCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJDb21wb3NlckNvbnRyb2xzXCIsXG4gIGNvbXBvbmVudHM6IHtDb21wb3NlckNvbnRyb2xzU2Nyb2xsQmFyLCBHbG9iYWxUcmFja1ZhbHVlc30sXG4gIHNldHVwKCkge1xuICAgIGNvbnN0IHN0b3JlID0gaW5qZWN0KCdzdG9yZScpXG4gICAgY29uc3Qge2J1cywgZW1pdH0gPSB1c2VFdmVudHNCdXMoKVxuICAgIGNvbnN0IHJlcXVpcmVzUmVuZGVyID0gcmVmKGZhbHNlKVxuICAgIGNvbnN0IHRvYXN0ID0gaW5qZWN0KCd0b2FzdCcpO1xuXG4gICAgbGV0IEJVRkZFUl9DQUNIRSA9IHt9XG4gICAgbGV0IEJVRkZFUl9ST1dfQ0FDSEUgPSBbXVxuXG4gICAgbGV0IGNvbnRleHQgPSB1bmRlZmluZWRcbiAgICBsZXQgc291cmNlTm9kZSA9IHVuZGVmaW5lZDtcbiAgICBsZXQgYnVmZmVyID0gdW5kZWZpbmVkO1xuICAgIGxldCBzdGFydGVkQXQgPSAwXG4gICAgbGV0IHBhdXNlZEF0ID0gMFxuICAgIGNvbnN0IGlzUGxheWluZyA9IHJlZihmYWxzZSlcbiAgICBjb25zdCBpc1JlbmRlcmluZyA9IHJlZihmYWxzZSlcblxuICAgIGNvbnN0IGltYWdlQXNzZXRzID0ge1xuICAgICAgcGxheUJ0bjogc3RvcmUuc3RhdGUuc3RhdGljVXJsICsgJ2ljb25zL3BsYXktYnV0dG9uLnBuZycsXG4gICAgICBwYXVzZUJ0bjogc3RvcmUuc3RhdGUuc3RhdGljVXJsICsgJ2ljb25zL3BhdXNlLWJ1dHRvbi5wbmcnLFxuICAgICAgc3RvcEJ0bjogc3RvcmUuc3RhdGUuc3RhdGljVXJsICsgJ2ljb25zL3N0b3AtYnV0dG9uLnBuZycsXG4gICAgICBkb3dubG9hZEJ0bjogc3RvcmUuc3RhdGUuc3RhdGljVXJsICsgJ2ljb25zL2Rvd25sb2FkLWljb24uc3ZnJyxcbiAgICB9XG5cbiAgICBjb25zdCBnZXRUcmFja0xpc3RCeVJvdyA9IChyb3cpID0+IHtcbiAgICAgIGNvbnN0IHRyYWNrcyA9IHN0b3JlLnN0YXRlLmdyaWRbcm93XS52YWx1ZS5tYXAoKHQpID0+IHtcbiAgICAgICAgaWYgKHQuc291cmNlKSB7XG4gICAgICAgICAgcmV0dXJuIHQuc291cmNlLnJlcGxhY2UoJy53YXYnLCAnLm1wMycpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQuc291cmNlXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gdHJhY2tzXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0TG9vcExlbmd0aEZyb21CYXJzQW5kQlBNID0gKGJhckNvdW50LCBicG0pID0+IHtcbiAgICAgIGxldCBtc1BlckJlYXRBdEJwbSA9IDYwMDAwIC8gYnBtO1xuICAgICAgbGV0IHRvdGFsQmVhdHMgPSA0ICogYmFyQ291bnQ7XG4gICAgICByZXR1cm4gbXNQZXJCZWF0QXRCcG0gKiB0b3RhbEJlYXRzIC8gMTAwMFxuICAgIH1cblxuICAgIGNvbnN0IGdldEJ1ZmZlckluUm93ID0gYXN5bmMgKGFjdHgsIHRyYWNrU291cmNlVXJscywgZW1wdHlCdWZmZXIpID0+IHtcbiAgICAgIGxldCBidWZmZXJfbGlzdCA9IG5ldyBBcnJheSgpO1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0cmFja1NvdXJjZVVybHMubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaWYgKHRyYWNrU291cmNlVXJsc1t4XSkge1xuICAgICAgICAgIC8vIGlmIChCVUZGRVJfQ0FDSEVbdHJhY2tTb3VyY2VVcmxzW3hdXSkge1xuICAgICAgICAgIC8vICAgYnVmZmVyX2xpc3RbeF0gPSBCVUZGRVJfQ0FDSEVbdHJhY2tTb3VyY2VVcmxzW3hdXVxuICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGF4aW9zLmdldCh0cmFja1NvdXJjZVVybHNbeF0sIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICBsZXQgYXVkaW9EYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgaWYgKGF1ZGlvRGF0YSkge1xuICAgICAgICAgICAgICAgIGFjdHguZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSwgZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcl9saXN0W3hdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUuZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInByb2JsZW0hIVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwicHJvYmxlbSEhIGRvd25sb2FkaW5nIFwiICsgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIEJVRkZFUl9DQUNIRVt0cmFja1NvdXJjZVVybHNbeF1dID0gYnVmZmVyXG4gICAgICAgICAgLy8gfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1ZmZlcl9saXN0W3hdID0gZW1wdHlCdWZmZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZmZlcl9saXN0O1xuICAgIH1cblxuICAgIGNvbnN0IG1peERvd24gPSAoY29udGV4dCwgcm93QnVmZmVyTGlzdCwgdG90YWxMZW5ndGgpID0+IHtcbiAgICAgIGNvbnN0IG51bWJlck9mQ2hhbm5lbHMgPSAyXG4gICAgICAvL2NyZWF0ZSBhIGJ1ZmZlciB1c2luZyB0aGUgdG90YWxMZW5ndGggYW5kIHNhbXBsZVJhdGUgb2YgdGhlIGZpcnN0IGJ1ZmZlciBub2RlXG4gICAgICBsZXQgZmluYWxNaXggPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcihudW1iZXJPZkNoYW5uZWxzLCB0b3RhbExlbmd0aCwgcm93QnVmZmVyTGlzdFswXS5zYW1wbGVSYXRlKTtcblxuICAgICAgLy9maXJzdCBsb29wIGZvciByb3cgYnVmZmVyIGxpc3RcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93QnVmZmVyTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBzZWNvbmQgbG9vcCBmb3IgZWFjaCBjaGFubmVsIGllIGxlZnQgYW5kIHJpZ2h0XG4gICAgICAgIC8vaGVyZSB3ZSBnZXQgYSByZWZlcmVuY2UgdG8gdGhlIGZpbmFsIG1peCBidWZmZXIgZGF0YVxuICAgICAgICBjb25zdCBsZWZ0Q2hhbm5lbCA9IDBcbiAgICAgICAgY29uc3QgcmlnaHRDaGFubmVsID0gMVxuXG4gICAgICAgIGxldCBmaW5hbE1peEJ1ZmZlckxlZnQgPSBmaW5hbE1peC5nZXRDaGFubmVsRGF0YShsZWZ0Q2hhbm5lbCk7XG4gICAgICAgIGxldCBmaW5hbE1peEJ1ZmZlclJpZ2h0ID0gZmluYWxNaXguZ2V0Q2hhbm5lbERhdGEocmlnaHRDaGFubmVsKTtcblxuICAgICAgICAvL2xhc3QgaXMgbG9vcCBmb3IgdXBkYXRpbmcvc3VtbWluZyB0aGUgdHJhY2sgYnVmZmVyIHdpdGggdGhlIGZpbmFsIG1peCBidWZmZXJcblxuICAgICAgICBsZXQgcm93QnVmZmVyQ2hhbm5lbExlZnQgPSByb3dCdWZmZXJMaXN0W2ldLmdldENoYW5uZWxEYXRhKGxlZnRDaGFubmVsKVxuICAgICAgICBsZXQgcm93QnVmZmVyQ2hhbm5lbFJpZ2h0ID0gcm93QnVmZmVyTGlzdFtpXS5nZXRDaGFubmVsRGF0YShyaWdodENoYW5uZWwpXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93QnVmZmVyTGlzdFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGZpbmFsTWl4QnVmZmVyTGVmdFtqXSArPSByb3dCdWZmZXJDaGFubmVsTGVmdFtqXVxuICAgICAgICAgIGZpbmFsTWl4QnVmZmVyUmlnaHRbal0gKz0gcm93QnVmZmVyQ2hhbm5lbFJpZ2h0W2pdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmaW5hbE1peDtcbiAgICB9XG5cbiAgICBjb25zdCBnZW5lcmF0ZUVtcHR5QnVmZmVyID0gKGFjdHgsIGZyYW1lQ291bnQsIHNhbXBsZVJhdGUpID0+IHtcbiAgICAgIC8vVEhJUyBJUyBMSUtFTFkgU0lMRU5DRSBTTyBHRU5FUkFURSBBTiBFTVBUWSBCVUZGRVJcbiAgICAgIGxldCBlbXB0eUJ1ZmZlciA9IGFjdHguY3JlYXRlQnVmZmVyKDIsIGZyYW1lQ291bnQsIHNhbXBsZVJhdGUpO1xuICAgICAgZm9yIChsZXQgY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBlbXB0eUJ1ZmZlci5udW1iZXJPZkNoYW5uZWxzOyBjaGFubmVsKyspIHtcbiAgICAgICAgbGV0IG5vd0J1ZmZlcmluZyA9IGVtcHR5QnVmZmVyLmdldENoYW5uZWxEYXRhKGNoYW5uZWwpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVtcHR5QnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbm93QnVmZmVyaW5nW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5QnVmZmVyO1xuICAgIH1cblxuXG4gICAgY29uc3QgcmVuZGVyTWl4ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc3RvcCgpXG5cbiAgICAgIGlmIChzdG9yZS5zdGF0ZS5jbGlwQ291bnQoKSA8IDEpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlzUmVuZGVyaW5nLnZhbHVlID0gdHJ1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgLyogbG9hZCBhdWRpbyBidWZmZXJzIC0gc3RhcnQgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY29udGV4dC5jbG9zZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmFibGUgdG8gY2xvc2UgV2ViQXVkaW8gQ29udGV4dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xuICAgICAgICAgIGNvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbnRleHQucmVzdW1lKClcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgcmVzdW1pbmcgV2ViQXVkaW8gQ29udGV4dCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJBdWRpbyBhcGkgaXMgbm90IHN1cHBvcnRlZCEhJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2Vjb25kc0luTG9vcCA9IGdldExvb3BMZW5ndGhGcm9tQmFyc0FuZEJQTSg0LCBzdG9yZS5zdGF0ZS5nbG9iYWxCcG0pO1xuICAgICAgICBjb25zdCBidWZmZXJTaXplUGVyTG9vcCA9IHNlY29uZHNJbkxvb3AgKiA0NDEwMDtcblxuICAgICAgICBjb25zdCBsZWZ0Q2hhbm5lbCA9IDBcbiAgICAgICAgY29uc3QgcmlnaHRDaGFubmVsID0gMVxuICAgICAgICBjb25zdCBudW1PZlJvd3MgPSA0O1xuICAgICAgICBsZXQgbGlzdE9mVHJpbW1lZFJvd0J1ZmZlcnMgPSBuZXcgQXJyYXkobnVtT2ZSb3dzKTtcblxuICAgICAgICBsZXQgZW1wdHlCdWZmZXIgPSBnZW5lcmF0ZUVtcHR5QnVmZmVyKGNvbnRleHQsIGJ1ZmZlclNpemVQZXJMb29wLCA0NDEwMClcblxuICAgICAgICAvL0FMTCBUSElTIFJPVyBTVFVGRiBDT1VMRCBCRSBBIEZVTkNcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBudW1PZlJvd3M7IG4rKykge1xuICAgICAgICAgIC8vQ0hFQ0sgSUYgVEhFIFJPVyBJUyBBTFJFQURZIENBQ0hFRFxuICAgICAgICAgIGlmICghc3RvcmUuc3RhdGUuaGFzUm93U3RhdGVDaGFuZ2VkKG4pICYmIEJVRkZFUl9ST1dfQ0FDSEVbbl0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUk9XIElTIElOIENBQ0hFRCEhXCIpXG4gICAgICAgICAgICBsaXN0T2ZUcmltbWVkUm93QnVmZmVyc1tuXSA9IEJVRkZFUl9ST1dfQ0FDSEVbbl1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9HRVQgVEhFIFRSQUNLUyBJTiBPTkUgUk9XXG4gICAgICAgICAgbGV0IHRyYWNrc0luUm93ID0gZ2V0VHJhY2tMaXN0QnlSb3cobilcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygndHJhY2tzSW5Sb3dfJyArIG4sIHRyYWNrc0luUm93KVxuXG4gICAgICAgICAgLy9HRVQgVEhFIEJVRkZFUlMgRk9SIE9ORSBST1dcbiAgICAgICAgICBsZXQgYnVmZmVyX2xpc3Rfcm93ID0gYXdhaXQgZ2V0QnVmZmVySW5Sb3coY29udGV4dCwgdHJhY2tzSW5Sb3csIGVtcHR5QnVmZmVyKTtcblxuICAgICAgICAgIC8vVFJJTSBUSEUgQlVGRkVSUyBJTiBFQUNIIFJPV1xuICAgICAgICAgIC8vVFJJTSBUSEUgQlVGRkVSUyBJTiBFQUNIIFJPV1xuICAgICAgICAgIC8vVFJJTSBUSEUgQlVGRkVSUyBJTiBFQUNIIFJPV1xuICAgICAgICAgIC8vVE9ETyBJRiBZT1UgUFJFLVRSSU0gVEhFU0UgWU9VIENBTiBTQVZFIFJFTkRFUiBUSU1FXG4gICAgICAgICAgbGV0IHRyaW1tZWRCdWZmZXJMaXN0Um93ID0gbmV3IEFycmF5KGJ1ZmZlcl9saXN0X3Jvdy5sZW5ndGgpXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJfbGlzdF9yb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhbiBlbXB0eSBidWZmZXIgYXQgdGhlIHRhcmdldCBsZW5ndGhcbiAgICAgICAgICAgIGxldCBuZXdCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCBidWZmZXJTaXplUGVyTG9vcCwgNDQxMDApO1xuXG4gICAgICAgICAgICAvLyBmb3IgKGxldCBjaGFubmVsID0gMDsgY2hhbm5lbCA8IDI7IGNoYW5uZWwrKykge1xuICAgICAgICAgICAgLy8gVGhpcyBnaXZlcyB1cyB0aGUgYWN0dWFsIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIGRhdGFcbiAgICAgICAgICAgIGxldCBvbGRCdWZmZXJMZWZ0ID0gYnVmZmVyX2xpc3Rfcm93W2ldLmdldENoYW5uZWxEYXRhKGxlZnRDaGFubmVsKVxuICAgICAgICAgICAgbGV0IG9sZEJ1ZmZlclJpZ2h0ID0gYnVmZmVyX2xpc3Rfcm93W2ldLmdldENoYW5uZWxEYXRhKHJpZ2h0Q2hhbm5lbClcblxuICAgICAgICAgICAgbGV0IG5vd0J1ZmZlcmluZ0xlZnQgPSBuZXdCdWZmZXIuZ2V0Q2hhbm5lbERhdGEobGVmdENoYW5uZWwpO1xuICAgICAgICAgICAgbGV0IG5vd0J1ZmZlcmluZ1JpZ2h0ID0gbmV3QnVmZmVyLmdldENoYW5uZWxEYXRhKHJpZ2h0Q2hhbm5lbCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbmV3QnVmZmVyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIG5vd0J1ZmZlcmluZ0xlZnRbal0gPSBvbGRCdWZmZXJMZWZ0W2pdO1xuICAgICAgICAgICAgICBub3dCdWZmZXJpbmdSaWdodFtqXSA9IG9sZEJ1ZmZlclJpZ2h0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICB0cmltbWVkQnVmZmVyTGlzdFJvd1tpXSA9IG5ld0J1ZmZlclxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vTUVSR0UgQUxMIFRIRSBCVUZGRVJTIEZPUiBBIFJPV1xuICAgICAgICAgIC8vTUVSR0UgQUxMIFRIRSBCVUZGRVJTIEZPUiBBIFJPV1xuICAgICAgICAgIC8vIE1FUkdFIEFMTCBUSEUgQlVGRkVSUyBGT1IgQSBST1dcbiAgICAgICAgICBsZXQgZmluYWxSb3dCdWZmZXIgPSBjb250ZXh0LmNyZWF0ZUJ1ZmZlcigyLCBidWZmZXJTaXplUGVyTG9vcCAqIHRyaW1tZWRCdWZmZXJMaXN0Um93Lmxlbmd0aCwgNDQxMDApO1xuXG4gICAgICAgICAgbGV0IG5vd0J1ZmZlcmluZ0ZpbmFsUm93TGVmdCA9IGZpbmFsUm93QnVmZmVyLmdldENoYW5uZWxEYXRhKGxlZnRDaGFubmVsKTtcbiAgICAgICAgICBsZXQgbm93QnVmZmVyaW5nRmluYWxSb3dSaWdodCA9IGZpbmFsUm93QnVmZmVyLmdldENoYW5uZWxEYXRhKHJpZ2h0Q2hhbm5lbCk7XG5cbiAgICAgICAgICBsZXQgZmluYWxSb3dCdWZmZXJJZHggPSAwO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpbW1lZEJ1ZmZlckxpc3RSb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBvbGRCdWZmZXJMZWZ0ID0gdHJpbW1lZEJ1ZmZlckxpc3RSb3dbaV0uZ2V0Q2hhbm5lbERhdGEobGVmdENoYW5uZWwpXG4gICAgICAgICAgICBsZXQgb2xkQnVmZmVyUmlnaHQgPSB0cmltbWVkQnVmZmVyTGlzdFJvd1tpXS5nZXRDaGFubmVsRGF0YShyaWdodENoYW5uZWwpXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9sZEJ1ZmZlckxlZnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgbm93QnVmZmVyaW5nRmluYWxSb3dMZWZ0W2ZpbmFsUm93QnVmZmVySWR4XSA9IG9sZEJ1ZmZlckxlZnRbal07XG4gICAgICAgICAgICAgIG5vd0J1ZmZlcmluZ0ZpbmFsUm93UmlnaHRbZmluYWxSb3dCdWZmZXJJZHhdID0gb2xkQnVmZmVyUmlnaHRbal07XG4gICAgICAgICAgICAgIGZpbmFsUm93QnVmZmVySWR4ID0gZmluYWxSb3dCdWZmZXJJZHggKyAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdE9mVHJpbW1lZFJvd0J1ZmZlcnNbbl0gPSBmaW5hbFJvd0J1ZmZlclxuXG4gICAgICAgICAgLy9VUERBVEUgVEhFIFJPVyBDQUNIRVxuICAgICAgICAgIEJVRkZFUl9ST1dfQ0FDSEVbbl0gPSBmaW5hbFJvd0J1ZmZlclxuICAgICAgICAgIHN0b3JlLnN0YXRlLnVwZGF0ZVJvd1N0YXRlSGFzaChuKVxuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyID0gbWl4RG93bihjb250ZXh0LCBsaXN0T2ZUcmltbWVkUm93QnVmZmVycywgbGlzdE9mVHJpbW1lZFJvd0J1ZmZlcnNbMF0ubGVuZ3RoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgZSlcbiAgICAgIH1cblxuICAgICAgaXNSZW5kZXJpbmcudmFsdWUgPSBmYWxzZVxuXG5cbiAgICAgIHN0b3JlLnN0YXRlLnVwZGF0ZVN0YXRlSGFzaCgpXG5cbiAgICAgIC8vZW1pdCgncmVuZGVyTWl4SWZOZWVkZWQnKVxuXG5cbiAgICAgIGNvbnNvbGUudGltZUVuZCgnRlVMTF9SRU5ERVInKVxuICAgIH1cblxuICAgIGNvbnN0IHBsYXlDbGlwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgc3RvcCgpXG4gICAgfVxuXG4gICAgY29uc3QgcGxheU1peCA9IGFzeW5jIChvZmZzZXRTdGFydFBlcmNlbnRhZ2UpID0+IHtcbiAgICAgIGlmIChzdG9yZS5zdGF0ZS5jbGlwQ291bnQoKSA8IDEpIHtcbiAgICAgICAgdG9hc3Qud2FybmluZygnQWRkIGNsaXBzIHRvIHRoZSBhcnJhbmdlciEnKTtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGVtaXQoJ3N0b3BBbGxBdWRpbycsICdjb21wb3Nlci1jb250cm9scycpXG5cbiAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IHBhdXNlZEF0O1xuXG4gICAgICAgIGlmIChvZmZzZXRTdGFydFBlcmNlbnRhZ2UgJiYgb2Zmc2V0U3RhcnRQZXJjZW50YWdlID4gMCAmJiBvZmZzZXRTdGFydFBlcmNlbnRhZ2UgPD0gMTAwKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gYnVmZmVyLmR1cmF0aW9uICogKG9mZnNldFN0YXJ0UGVyY2VudGFnZSAqIDAuMDEpXG4gICAgICAgIH1cblxuICAgICAgICBzb3VyY2VOb2RlID0gY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICAgICAgc291cmNlTm9kZS5idWZmZXIgPSBidWZmZXJcbiAgICAgICAgc291cmNlTm9kZS5jb25uZWN0KGNvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICBzb3VyY2VOb2RlLnN0YXJ0KDAsIG9mZnNldCk7XG4gICAgICAgIHN0YXJ0ZWRBdCA9IGNvbnRleHQuY3VycmVudFRpbWUgLSBvZmZzZXQ7XG4gICAgICAgIHBhdXNlZEF0ID0gMDtcbiAgICAgICAgaXNQbGF5aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJlbmRlck1peCgpXG4gICAgICAgIGF3YWl0IHBsYXlNaXgoKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0b3AgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoc291cmNlTm9kZSkge1xuICAgICAgICBzb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgc291cmNlTm9kZS5zdG9wKDApO1xuICAgICAgICBzb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHBhdXNlZEF0ID0gMDtcbiAgICAgIHN0YXJ0ZWRBdCA9IDA7XG4gICAgICBpc1BsYXlpbmcudmFsdWUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXVzZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBlbGFwc2VkID0gY29udGV4dC5jdXJyZW50VGltZSAtIHN0YXJ0ZWRBdDtcbiAgICAgIHN0b3AoKTtcbiAgICAgIHBhdXNlZEF0ID0gZWxhcHNlZDtcbiAgICB9XG5cbiAgICBsZXQgZ2V0Q3VycmVudFRpbWUgPSAoKSA9PiB7XG4gICAgICBpZiAocGF1c2VkQXQpIHtcbiAgICAgICAgcmV0dXJuIHBhdXNlZEF0O1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ZWRBdCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jdXJyZW50VGltZSAtIHN0YXJ0ZWRBdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG5cbiAgICBsZXQgZ2V0RHVyYXRpb24gPSAoKSA9PiB7XG4gICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuZHVyYXRpb247XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgY29uc3QgcHJpbnRQbGF5U3RhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1RBVEU6IGFjdHg6JywgY29udGV4dClcblxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NUQVRFOiBhY3R4LmN1cnJlbnRUaW1lJywgY29udGV4dC5jdXJyZW50VGltZSlcbiAgICAgICAgY29uc29sZS5sb2coJ1NUQVRFOiBhY3R4LnN0YXRlJywgY29udGV4dC5zdGF0ZSlcbiAgICAgIH1cblxuICAgICAgaWYgKHNvdXJjZU5vZGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NUQVRFOiBtaXgnLCBzb3VyY2VOb2RlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NUQVRFOiBtaXggaXMgdW5kZWZpbmVkJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgdXBkYXRlRHVyYXRpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGRpc3BsYXlEdXJhdGlvbiA9IGdldER1cmF0aW9uKClcbiAgICAgIGxldCBkaXNwbGF5Q3VycmVudFRpbWUgPSBnZXRDdXJyZW50VGltZSgpXG5cbiAgICAgIGxldCBwcm9ncmVzcyA9IE1hdGgucm91bmQoZGlzcGxheUN1cnJlbnRUaW1lIC8gZGlzcGxheUR1cmF0aW9uICogMTAwKVxuICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIocHJvZ3Jlc3MpKSB7XG4gICAgICAgIGVtaXQoJ3VwZGF0ZVByb2dyZXNzQmFyJywgcHJvZ3Jlc3MpXG4gICAgICB9XG5cbiAgICAgIGlmIChkaXNwbGF5Q3VycmVudFRpbWUgPiBkaXNwbGF5RHVyYXRpb24pIHtcbiAgICAgICAgYXdhaXQgc3RvcCgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW50ZXJ2YWwodXBkYXRlRHVyYXRpb25zLCAxMDApXG5cbiAgICBsZXQgZG93bmxvYWRNaXggPSAoKSA9PiB7XG4gICAgICB0b2FzdC5lcnJvcignTm90IHlldCBpbXBsZW1lbnRlZCA6KCcpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgd2F0Y2goKCkgPT4gYnVzLnZhbHVlLmdldCgnc3RvcEFsbEF1ZGlvJyksIGFzeW5jIChjYWxsZXJJZCkgPT4ge1xuICAgICAgaWYgKGNhbGxlcklkICE9ICdjb21wb3Nlci1jb250cm9scycpIHtcbiAgICAgICAgYXdhaXQgc3RvcCgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHdhdGNoKCgpID0+IGJ1cy52YWx1ZS5nZXQoJ3JlbmRlck1peElmTmVlZGVkJyksIGFzeW5jIChjYWxsZXJJZCkgPT4ge1xuICAgICAgaWYgKHN0b3JlLnN0YXRlLmhhc1N0YXRlQ2hhbmdlZCgpKSB7XG4gICAgICAgIHJlcXVpcmVzUmVuZGVyLnZhbHVlID0gdHJ1ZVxuXG4gICAgICAgIGlmICghaXNSZW5kZXJpbmcudmFsdWUpIHtcbiAgICAgICAgICBhd2FpdCByZW5kZXJNaXgoKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1aXJlc1JlbmRlci52YWx1ZSA9IGZhbHNlXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdSRU5ERVIgTk9UIE5FRURFRCcpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHdhdGNoKCgpID0+IGJ1cy52YWx1ZS5nZXQoJ3NjcnViVG8nKSwgYXN5bmMgKHNjcnViVG9QZXJjZW50KSA9PiB7XG4gICAgICBpZiAoc3RvcmUuc3RhdGUuY2xpcENvdW50KCkgPCAxKSB7XG4gICAgICAgIHRvYXN0Lndhcm5pbmcoJ0FkZCBjbGlwcyB0byB0aGUgYXJyYW5nZXIhJyk7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoaXNQbGF5aW5nLnZhbHVlICYmIGJ1ZmZlciAmJiBzY3J1YlRvUGVyY2VudCAmJiBzY3J1YlRvUGVyY2VudCA+IDAgJiYgc2NydWJUb1BlcmNlbnQgPD0gMTAwKSB7XG4gICAgICAgIGF3YWl0IHBhdXNlKClcbiAgICAgICAgYXdhaXQgcGxheU1peChzY3J1YlRvUGVyY2VudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGl0IGlzIGN1cnJlbnRseSBub3QgcGxheWluZywgc28gc3RhcnQgbm93XG4gICAgICAgIGF3YWl0IHBsYXlNaXgoKVxuICAgICAgICBhd2FpdCBwYXVzZSgpXG4gICAgICAgIGF3YWl0IHBsYXlNaXgoc2NydWJUb1BlcmNlbnQpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICBkb3dubG9hZE1peCxcbiAgICAgIGltYWdlQXNzZXRzLFxuICAgICAgaXNQbGF5aW5nLFxuICAgICAgaXNSZW5kZXJpbmcsXG4gICAgICBwbGF5OiBwbGF5TWl4LFxuICAgICAgcGF1c2UsXG4gICAgICBzdG9wLFxuICAgICAgcHJpbnRQbGF5U3RhdGUsXG4gICAgICByZW5kZXJNaXgsXG4gICAgICByZXF1aXJlc1JlbmRlclxuICAgIH1cbiAgfVxufVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG5cbjwvc3R5bGU+Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[5].use[0]!./src/components/ComposerControls.vue?vue&type=template&id=6f452db4\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("71e99481acab202190db")
/******/ })();
/******/ 
/******/ }
);